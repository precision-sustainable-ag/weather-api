<div data-route="/hourly">
  <p>Returns hourly NLDAS2 data.</p>
  <p><strong>Examples:</strong></p>
  <ol>
    <li>
      Show November 2018 real hourly data for Beltsville MD, all parameters:<br>
      &nbsp;&nbsp;&nbsp;&nbsp;
      $ANCHOR[/hourly?lat=39.032056&lon=-76.873972&start=2018-11-01&end=2018-11-30&output=html]
    </li>
    <li>
      Show November 2018 real hourly data for Beltsville MD's midpoint, ordered by descending air temperature:<br>
      &nbsp;&nbsp;&nbsp;&nbsp;
      $ANCHOR[/hourly?lat=39.032056&lon=-76.873972&start=2018-11-01&end=2018-11-30&order=air_temperature desc&output=html]
    </li>
    <li>
      Show November 1 2018 real hourly data for all of Clarke County GA. Allow graphing:<br>
      &nbsp;&nbsp;&nbsp;&nbsp;
      $ANCHOR[/hourly?location=clarke%20county%20georgia&start=2018-11-01&end=2018-11-1&options=rect,graph&output=html]
    </li>
    <li>
      Show real hourly data Clarke County GA, 2025-10-13 through 2025-11-10:<br>
      &nbsp;&nbsp;&nbsp;&nbsp;
      $ANCHOR[/hourly?location=clarke%20county%20georgia&start=2025-10-13&end=2025-11-10&output=html]
    </li>
    <li>
      Show hourly data Clarke County GA, 2025-10-13 through 2025-11-10, substituting 5-year averages for missing data:<br>
      &nbsp;&nbsp;&nbsp;&nbsp;
      $ANCHOR[/hourly?location=clarke%20county%20georgia&start=2025-10-13&end=2025-11-10&options=predicted&output=html]
    </li>
  </ol>
</div>

<div data-route="/daily">
  <p>Returns daily NLDAS2 data.</p>
  <p><strong>Examples:</strong></p>
  <ol>
    <li>
      Show November 2018 daily ranges and statistics for Beltsville MD, all parameters:<br>
      &nbsp;&nbsp;&nbsp;&nbsp;
      $ANCHOR[/daily?lat=39.032056&lon=-76.873972&start=2018-11-01&end=2018-11-30&output=html]
    </li>
    <li>
      Show November 2018 daily ranges and statistics for 2400 College Station Road Athens GA, all parameters:<br>
      &nbsp;&nbsp;&nbsp;&nbsp;
      $ANCHOR[/daily?location=2400 College Station Road Athens GA&start=2018-11-01&end=2018-11-30&output=html]
    </li>
    <li>
      Show November 2018 daily ranges and statistics for 2400 College Station Road Athens GA, temperature and specific humidity:<br>
      &nbsp;&nbsp;&nbsp;&nbsp;
      $ANCHOR[/daily?location=2400 College Station Road Athens GA&start=2018-11-01&end=2018-11-30&attributes=air_temperature,humidity&output=html]
    </li>
    <li>
      Show November 2018 daily ranges and statistics for lat/lons [39.03, -76.87], [40.42, -80.35], [42.33, -84.26]:<br>
      &nbsp;&nbsp;&nbsp;&nbsp;
      $ANCHOR[/daily?lat=39.03,40.42,42.33&lon=-76.87,-80.35,-84.26&start=2018-11-01&end=2018-11-30&attributes=lat,lon,air_temperature,humidity&output=html]
    </li>
    <li>
      Growing Degree Days:<br>
      &nbsp;&nbsp;&nbsp;&nbsp;
      $ANCHOR[/daily?lat=39.032056&lon=-76.873972&start=2018-11-01&end=2018-11-30&attributes=lat,lon,gdd&gddbase=10&gddmin=10&gddmax=30&output=html]
    </li>
    <li>
      Cumulative Growing Degree Days:<br>
      &nbsp;&nbsp;&nbsp;&nbsp;
      $ANCHOR[/daily?lat=39.032056&lon=-76.873972&start=2018-11-01&end=2018-11-30&gddbase=10&gddmin=10&gddmax=30&stats=sum(gdd)&output=html]
    </li>
  </ol>
</div>

<div data-route="/databasesize">
  Returns the database size as a human-readable string (e.g., '12 TB').
</div>

<div data-route="/indexes">
  Lists all indexes on non-system tables, ordered by index name.
</div>

<div data-route="/yearlyprecipitation">
  Returns the closest precipitation record to (lat, lon), along with distance to the weather station in meters.
</div>

<div data-route="/addresses">
  For all locations searched by address rather than coordinates,
  returns a list of matching addresses along with their latitude/longitude and bounding boxes.
</div>

<div data-route="/counttablesrows">
  Returns the number of tables and approximate number of rows in the database.
</div>

<div data-route="/tables">
  Returns tables in the weather schema with a positive <strong>estimated</strong> row count.
</div>

<div data-route="/mvm">
  Compares each record to its neighbor ~0.01° north or east in in MRMS data,
  returning only pairs where <code>|a.sum − b.sum|</code> &gt; <code>num</code>.
</div>

<div data-route="/frost">
  Finds the nearest frost record to the given lat/lon within 0.7° —
  only where firstfreeze, firstfrost, lastfreeze, and lastfrost are present.
</div>

<div data-route="/elevation">
  Returns the elevation (meters) for the given latitude/longitude by querying
  <a target="_blank" href="https://open-elevation.com">Open-Elevation</a>.
</div>

<div data-route="/watershed">
  <p>
    Returns watershed (HUC) attributes based on one of:
  </p>
  <ul>
    <li>a point (<code>lat,lon</code>)</li>
    <li>an address (<code>location</code>, which is geocoded to lat/lon)</li>
    <li>a state filter (<code>state</code>)</li>
    <li>a HUC prefix (<code>huc</code>)</li>
  </ul>
  <p>If no filter is provided, returns the HUC12 containing the point.</p>
  <p>
    The optional <code>attributes</code> parameter is a comma-separated list of fields to return, which may include any of the following:
    <br>
    huc12, name, huc10, huc10name, huc8, huc8name, huc6, huc6name, huc4, huc4name, huc2, huc2name, tnmid, metasourceid,
    sourcedatadesc, sourceoriginator, sourcefeatureid, loaddate, referencegnis_ids, areaacres, areasqkm, states, hutype, humod,
    tohuc, noncontributingareaacres, noncontributingareasqkm, globalid, shape_length, shape_area, polygonarray, polygon
  </p>
  
  <p>
    When <code>attributes</code> is omitted, a default set of identifiers and metadata is returned;
    setting <code>polygon=true</code> includes geometry fields in that default.
  </p>
</div>

<div data-route="/county">
  <p>Returns county metadata for the point at (<code>lat,lon</code>).</p>
  <p>
    Optionally accept <code>attributes</code> (comma-separated) to choose fields;
    using polygon in attributes expands to polygonarray (GeoJSON coordinates) and polygon (WKT).
  </p>
  <p>
    If <code>attributes</code> is omitted, returns county, state, state_code, countyfips, statefips;
    setting <code>polygon=true</code> adds the geometry fields.
  </p>
</div>

<div data-route="/mlra">
  <p>
    Returns MLRA (Major Land Resource Area) data based on either a point (<code>lat,lon</code>) or a specific MLRA symbol (<code>mlra</code>).
  </p>
  <p>
    If <code>mlra</code> is provided, returns the MLRA’s name, symbol, associated Land Resource Region (lrrsym, lrrname), and aggregated counties, states, codes, and FIPS values that intersect the MLRA;
    optionally includes geometry fields when <code>polygon=true.</code>
  </p>
  <p>
    If <code>lat/lon</code> are provided instead, returns the MLRA polygon(s) containing that point,
    with attributes defined by the attributes parameter (comma-separated list, where polygon expands to both GeoJSON polygonarray and WKT polygon).
    Defaults to returning name, mlrarsym, lrrsym, and lrrname.
  </p>
</div>

<div data-route="/rosetta">
  <p>
    Predicts van Genuchten parameters from soil characterization data (sand, silt, clay; optional bulk density, th33, th1500).
  </p>
  <p>
    Calls the API described at
    <a href="https://github.com/usda-ars-ussl/rosetta-soil">https://github.com/usda-ars-ussl/rosetta-soil</a>,
    and simply handles the CORS issue with that server.
  </p>
  <p>
    Currently used for the Water DST only.
  </p>
</div>

<div data-route="/yearly">
  <p>
    Returns yearly aggregate weather metrics for the NLDAS 0.125° grid cell containing the provided coordinates.
    Inputs are snapped to the grid (lat rounded up, lon rounded down),
    and the requested year or year range is <em>currently</em> clamped to 2018–2022.
  </p>
  <p style="color: red !important">
    TODO:  Add new yearly data once new server is set up.
  </p>
</div>